stack:
  name: hud
  series: trusty
  series-version: '14.04'
  ppa: ubuntu-unity/daily-build-next
  dest: ubuntu-unity/next
  extracheck: autopilot-trusty-daily_release
  manualpublish: True # XXX: as requested by asac, we're in manual mode!
  dependencies:
    - qa
    - indicators
  ci_default:
    configurations:
      trusty-i386:
        node_label: pbuilder
      trusty-amd64:
        node_label: pbuilder
      trusty-armhf:
        node_label: calxeda-pbuilder
    parallel_jobs: 2
    contact_email: allan.lesage@canonical.com
    use_description_for_commit: True
  test_parameters:
    apmachines: autopilot-intel qa-nvidia-gtx660
    packages: libhud-client2 libhud2 hud libhud-qt1 qtdeclarative5-hud1.0 libhud2
    testpackages: python-autopilot autopilot-desktop recordmydesktop unity-autopilot
    tests: unity.tests.test_hud unity.tests.test_search.HudSearchTests unity.tests.test_search.HudFuzzySearchTests
  projects:
    libcolumbus:
      hooks: B10gcovr_run H10enable_coverage D10install_lcov B09copy_results D10install_gtester2xunit
      archive_artifacts: '**/results/**'
      publish_coverage: '**/results/coverage.xml'
    hud:
      hooks: D09add_ppa~private-ps-quality-team~staging B10gcovr_run H10enable_coverage D10install_lcov B09copy_results D10install_gtester2xunit
      archive_artifacts: '**/results/*test*.xml, **/results/coverage.xml, **results/**'
      publish_coverage: '**/results/coverage.xml'
      publish_junit: '**/results/test*.xml'
    libhud-qt:
      ci:
        configurations:
          trusty-armhf:
            archive_artifacts: '**/output/*deb'
